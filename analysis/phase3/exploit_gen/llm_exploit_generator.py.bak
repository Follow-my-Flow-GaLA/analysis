import openai
from config import CONFIG

# Initialize your API key from OpenAI
openai.api_key = CONFIG['API_KEY']

# Initialize the conversation history
conversation = [
    {"role": "system", "content": CONFIG["SYS"]}
]

def ask_question(questions):
    question = '\n'.join(questions) 
        # Append the user's question to the conversation
    conversation.append({"role": "user", "content": question})

    # Make the API request
    #print(conversation)
    #return 'complete'
    response = openai.ChatCompletion.create(
        model="gpt-4",
        messages=conversation
    )

    # Extract the response and add it to the conversation
    answer = response['choices'][0]['message']['content']
    conversation.append({"role": "assistant", "content": answer})

    # Return the answer
    return answer

if __name__ == "__main__":
# Example usage
    print(ask_question(CONFIG["EXAMPLE"]))
#print(ask_question("Can you explain deep learning?"))

